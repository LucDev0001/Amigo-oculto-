<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Amigo Oculto - Sistema de Slots</title>

    <style>
        /* Estilos para o body */
        body {
            background-size: cover;
            font-family: Arial, sans-serif;
            text-align: center;
            background-color: #f0f0f0;
            color: rgb(22, 217, 214);
            padding: 0;
            margin: 0; /* Remove margens */
            box-sizing: border-box;
        }
    
        /* Container da TV */
        .tv-container {
            width: 30vw;  /* Usa 80% da largura da tela */
            height: 30vw;  /* Mantém uma proporção quadrada */
            max-width: 400px;  /* Largura máxima */
            max-height: 400px;  /* Altura máxima */
            display: grid;
            grid-template-columns: repeat(3, 1fr);  /* Três colunas */
            grid-template-rows: repeat(3, 1fr);  /* Três linhas */
            gap: 10px;
            margin: 0 auto;  /* Centraliza na tela */
            border-radius: 20px;
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.3);
            align-items: center;
        }
    
        /* Estilos dos slots */
        .slot {
            width: 80%;
            height: 80%;
            margin: 0 auto;
            border: none;
            border-radius: 10px;
            overflow: hidden;
            background-color: #fff;
            cursor: pointer;
        }
    
        .slot img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            transition: transform 0.3s ease;
        }
    
        /* Botões */
        .button, .reset-button {
            margin-top: 1%;
            padding: 15px 30px;
            font-size: 18px;
            background-color: rgb(22, 217, 214);
            color: white;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            transition: background-color 0.3s;
        }
    
        .button {
            font-size: 20px;
        }
    
        /* Resultados */
        .result {
            margin-top: 20px;
            font-size: 40px;
            font-weight: bold;
        }
    
        .turn-message {
            font-size: 2rem;
            margin-bottom: 10px;
            font-weight: bold;
        }
    
        
    
        /* Estilos para dispositivos móveis */
        @media (max-width: 768px) {
            .tv-container {
                width: 80vw;  /* Aumenta a largura da TV para 90% da tela */
                height: 90vw;  /* Mantém a proporção */
                text-align: center;
            }
    
            .button, .reset-button {
                margin-top: 5%;
                padding: 12px 25px;  /* Ajusta o tamanho do botão */
                font-size: 16px;  /* Diminui o tamanho da fonte */
            }
    
            .result {
                font-size: 30px;  /* Diminui o tamanho da fonte do resultado */
            }
    
            .turn-message {
                font-size: 18px;  /* Diminui o tamanho da fonte */
            }
        }
    
        /* Estilos para telas menores que 480px */
        @media (max-width: 480px) {
            .tv-container {
                width: 70vw;  /* Ajusta para 95% da largura da tela */
                height: 85vw;  /* Ajusta para 95% da altura */

            }
    
            .button, .reset-button {
                margin-top: 3%;
                padding: 10px 20px;  /* Ajusta o tamanho do botão */
                font-size: 14px;  /* Diminui ainda mais o tamanho da fonte */
            }
    
            .result {
                font-size: 24px;  /* Diminui o tamanho da fonte */
            }
    
            .turn-message {
                font-size: 16px;  /* Ajusta a fonte para telas pequenas */
            }
    
            .slot img {
                object-fit: contain;  /* Ajusta a imagem para caber melhor em telas pequenas */
            }
        }
    </style>
</head>
<body style="background-image: url(&quot;https://imagens.deliveryseguro.com/delivery_seguro/empresa/id-11/haro-capa.jpg&quot;); background-repeat: no-repeat; background-size: auto;">

    <h1>Amigo Oculto</h1>
    <p id="turnMessage" class="turn-message">Agora é a vez de <strong id="currentPerson"></strong>!</p>

    <div class="tv-container">
        <div class="slot" id="slot1">
            <img src="default.jpg" alt="Slot 1">
        </div>
        <div class="slot" id="slot2">
            <img src="default.jpg" alt="Slot 2">
        </div>
        <div class="slot" id="slot3">
            <img src="default.jpg" alt="Slot 3">
        </div>
        <div class="slot" id="slot4">
            <img src="default.jpg" alt="Slot 4">
        </div>
        <div class="slot" id="slot5">
            <img src="default.jpg" alt="Slot 5">
        </div>
        <div class="slot" id="slot6">
            <img src="default.jpg" alt="Slot 6">
        </div>
        <div class="slot" id="slot7">
            <img src="default.jpg" alt="Slot 7">
        </div>
        <div class="slot" id="slot8">
            <img src="default.jpg" alt="Slot 8">
        </div>
        <div class="slot" id="slot9">
            <img src="default.jpg" alt="Slot 9">
        </div>
    </div>

    <button class="button" id="spinButton" onclick="spinSlots()">Girar</button>

    <div class="result" id="result"></div>

    <button class="reset-button hidden" id="resetButton" onclick="resetGame()">Reiniciar Jogo</button>

   

    <audio id="applauseSound" src="aplause.mp3" preload="auto"></audio>

    <script>
        // Lista de participantes e imagens
        const participants = [
            { src: 'img1.jpg', name: 'Viviane' },
            { src: 'img2.jpg', name: 'Bruno' },
            { src: 'img3.jpg', name: 'Douglas' },
            { src: 'img4.jpg', name: 'Edson' },
            { src: 'img5.jpg', name: 'Renan' },
            { src: 'img6.jpg', name: 'Luciano' },
            { src: 'img7.jpg', name: 'Renato' },
            { src: 'img8.jpg', name: 'Gilmar' },
            { src: 'img9.jpg', name: 'Samuel' },
            { src: 'img10.jpg', name: 'Miguel' },
            { src: 'img11.jpg', name: 'Geferson' },
            { src: 'img12.jpg', name: 'Bruna' },
            { src: 'img13.jpg', name: 'Edilson' }
        ];
    
        let revealedNames = []; // Para armazenar os nomes que já foram sorteados
        let currentTurn = 0; // Começa com a primeira pessoa
        const slots = Array.from(document.querySelectorAll('.slot'));
        const spinButton = document.getElementById('spinButton');
        const result = document.getElementById('result');
        const currentPerson = document.getElementById('currentPerson');
        const turnMessage = document.getElementById('turnMessage');
        const resetButton = document.getElementById('resetButton');
    
        // Função para girar os slots
        function spinSlots() {
            spinButton.disabled = true; // Desabilita o botão enquanto os slots giram
            result.textContent = ''; // Limpa o resultado
            resetButton.classList.add('hidden'); // Esconde o botão de reinício
            turnMessage.classList.add('hidden'); // Esconde a mensagem da vez
    
            // Coloca as imagens padrão nos slots antes de começar a girar
            slots.forEach(slot => {
                slot.querySelector('img').src = 'default.jpg'; // Coloca a imagem padrão
            });
    
            // Gira os slots por 2 segundos
            let spins = 0;
            const interval = setInterval(() => {
                spins++;
                slots.forEach(slot => {
                    // Coloca uma imagem aleatória dos participantes restantes
                    const randomIndex = Math.floor(Math.random() * participants.length);
                    const randomParticipant = participants[randomIndex];
                    slot.querySelector('img').src = randomParticipant.src; // Muda a imagem aleatoriamente
                });
    
                if (spins === 20) { // Para de girar após 2 segundos
                    clearInterval(interval);
                    showResult(); // Mostra o resultado final
                }
            }, 100); // Atualiza a cada 100ms
        }
    
        // Função para exibir o resultado após os slots girarem
        function showResult() {
            // Filtra os participantes para não permitir que a pessoa tire seu próprio nome ou o nome de quem já foi sorteado
            let availableParticipants = participants.filter(p => p.name !== participants[currentTurn].name && !revealedNames.includes(p.name));
    
            // Se todos os nomes foram sorteados, reinicia o jogo
            if (availableParticipants.length === 0) {
                resetGame(); // Reinicia o jogo
                return;
            }
    
            // Escolhe um nome aleatório da lista de participantes disponíveis
            const randomIndex = Math.floor(Math.random() * availableParticipants.length);
            const selectedPerson = availableParticipants[randomIndex];
    
            // Exibe o nome sorteado
            result.textContent = `${participants[currentTurn].name} sorteou: ${selectedPerson.name}`;
            revealedNames.push(selectedPerson.name); // Marca o nome como sorteado
    
            // Agora, exibe a mesma imagem nos três slots, correspondendo à pessoa sorteada
            slots.forEach(slot => {
                slot.querySelector('img').src = selectedPerson.src; // Coloca a imagem da pessoa sorteada
            });
    
            applauseSound.play(); // Toca o som de aplausos
    
            // Exibe no console quem pegou quem
            console.log(`${participants[currentTurn].name} - sorteou - ${selectedPerson.name}`);
    
            // Mantém as imagens visíveis por 5 segundos antes de voltar ao estado padrão
            setTimeout(() => {
                slots.forEach(slot => {
                    slot.querySelector('img').src = 'default.jpg'; // Coloca a imagem padrão
                });
                result.textContent = ''; // Limpa o resultado após as imagens voltarem para o default
                spinButton.disabled = false; // Habilita o botão de girar para o próximo jogador
            }, 5000); // Espera 5 segundos para retornar às imagens padrão
    
            // Exibe o nome da próxima pessoa da vez
            setTimeout(() => {
                currentTurn = (currentTurn + 1) % participants.length; // Avança para o próximo
                turnMessage.textContent = `Agora é a vez de ${participants[currentTurn].name}!`;
                currentPerson.textContent = participants[currentTurn].name; // Atualiza a pessoa da vez
                turnMessage.classList.remove('hidden');
                resetButton.classList.remove('hidden'); // Mostra o botão de reinício
            }, 5000); // Exibe a próxima pessoa após 5 segundos
    
            spinButton.disabled = false;
        }
    
        // Função para reiniciar o jogo
        function resetGame() {
            revealedNames = [];
            currentTurn = 0;
            result.textContent = '';
            turnMessage.textContent = `Agora é a vez de ${participants[currentTurn].name}!`;
            resetButton.classList.add('hidden'); // Esconde o botão de reinício
            turnMessage.classList.remove('hidden'); // Exibe a mensagem da vez
            currentPerson.textContent = participants[currentTurn].name;
    
            // Reseta as imagens dos slots
            slots.forEach(slot => {
                slot.querySelector('img').src = 'default.jpg'; // Coloca uma imagem padrão
            });
        }
    
        // Inicializa o jogo
        currentPerson.textContent = participants[currentTurn].name;
        turnMessage.textContent = `Agora é a vez de ${participants[currentTurn].name}!`;
    </script>
    
    
</body>
</html>
